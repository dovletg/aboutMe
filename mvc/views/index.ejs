<%- include('partials/header.ejs')%>


<div id="colorlib-main">
    <section class="ftco-section ftco-no-pt ftco-no-pb bg-light">
        <div class="container px-0">
            <div class="row no-gutters">

                <%
                  posts = posts.slice(0, (posts.length - (posts.length % 3)));
                  const rowPattern = [
                        ["vp", "hp", "hpr"],
                        ["vp", "vp", "vp"],
                        ["hp", "hpr", "vp"],
                        ["vp", "vpr", "vp"]
                  ];

                  let amountOfRows = posts.length / 3;
                    for(let i = 0; i < amountOfRows; i++) {
                        let pattern = rowPattern[i % (rowPattern.length + 1)];
                        let row = posts.splice(0, 3);

                        %><%- include("indexPagePosts/row.ejs", { posts: row, posts_meta: pattern });%><%
                    }
                %>

            </div>
        </div>
    </section>
</div><!-- END COLORLIB-MAIN -->


<%- include('partials/footer.ejs')%>
